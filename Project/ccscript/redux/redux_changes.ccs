// General ASM code for fixing or modifying different things in-game
//------------------------------------------------------------------
import "../essential/asm65816.ccs"
//------------------------------------------------------------------
/* Lower HP/PP windows by one tile */
ROM[0xC2044C] = LDA_i(0x0013)
ROM[0xC20453] = LDA_i(0x0014)
ROM[0xC20856] = LDY_i(9)
ROM[0xC21412] = ADC_i(0x80)
ROM[0xC3E738] = ADC_i(0x82BE)
ROM[0xC435BF] = ADC_i(0x84BE)
//------------------------------------------------------------------
/* Battle menu move Mirror command to the left */
ROM[0xC2381F] = LDX_i(0x000B)
//------------------------------------------------------------------
/* Change PSI Rockin to PK Rockin */
ROM[0xC1C415] = byte [0] 0x26
ROM[0xC1FE3D] = byte [0] 0x80
ROM[0xC1FE42] = byte [0] 0x7B
//------------------------------------------------------------------
/* Restore original spanking sound from Mother 2 */
//ROM[0xC3B989] = "[62]"	// Uncomment if you want to enable it
//------------------------------------------------------------------
/* Fix the monkey teleport event to point to the new Dusty Dunes teleport entry: */
ROM[0xC37CD1] = "[07]"
//------------------------------------------------------------------
/* Fix the Clumsy Robot event to check for flag associated with teleport 15 instead of 13 */
ROM[0xC292A0] = LDA_al(0xD57A6A)
//------------------------------------------------------------------
/* Fix for the Piggy Nose item and the Magic Truffles to work with Sprite 440 instead of 376*/
ROM[0xC490F6] = LDA_i(0x01B8)
//------------------------------------------------------------------
/* Fix the Clumsy Robot unused Smoke event to point to the new Fourside teleport entry (08).
 This one doesn't leave you outside of the Monotoly building, but rather in the Fourside Park, as if you used Teleport. This effectively frees up one teleport location to use for another one. Besides, the Smoke event is still unused in the main game, so no loss there. */
ROM[0XC292DE] = "[08]"
//------------------------------------------------------------------
/* Patches to reduce flash brightness for some effects */
ROM[0xC38753] = ASL_a(0x0300)
ROM[0xC39F67] = ASL_a(0x0B00)
ROM[0xC39F75] = COP(0xFF)
//------------------------------------------------------------------
